<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz Aniversario ‚ù§Ô∏è</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:black;
  color:white;
  font-family:system-ui;
  overflow-x:hidden;
  overflow-y:auto;
}


/* ===== ESTRELLAS (MUCH√çSIMAS) ===== */
canvas#stars{
  position:fixed;
  inset:0;
  z-index:0;
}

/* ===== LUNA ===== */
#moon{
  position:fixed;
  top:40px;
  left:40px;
  width:140px;
  height:140px;
  border-radius:50%;
  background:radial-gradient(circle,#fff,#bbb);
  box-shadow:0 0 50px rgba(255,255,255,.7);
  z-index:2;
}

/* ===== FUEGO ===== */
#fire {
  position: fixed;
  bottom: -20%;
  left: 0;
  width: 100%;
  height: 60%;
  opacity: 0;
  filter: blur(30px);
  z-index: 1;
  transition: background 2s ease;
}


@keyframes flames{
  from{transform:scaleY(1);}
  to{transform:scaleY(1.15);}
}

/* ===== CARRUSEL ===== */
#carousel{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:3;
}

#carousel img{
  max-height:75vh;
  border-radius:16px;
  box-shadow:0 0 60px rgba(255,255,255,.35);
}

#caption{
  text-align:center;
  margin-top:12px;
}

/* Flechas */
.nav{
  position:fixed;
  top:50%;
  font-size:3rem;
  cursor:pointer;
  opacity:.6;
  user-select:none;
}
.nav:hover{opacity:1}
#prev{left:40px}
#next{right:40px}

/* ===== SWITCH MUSICA ===== */
#musicSwitch{
  position:fixed;
  bottom:30px;
  right:30px;
  display:flex;
  gap:10px;
  z-index:4;
}

#musicSwitch button{
  padding:10px 18px;
  border-radius:20px;
  border:none;
  cursor:pointer;
}

/* ===== BOTONES MUSICA ===== */
#musicSwitch button {
  background: rgba(255,255,255,0.15);
  color: white;
  transition: all 0.3s ease;
}

#musicSwitch button.active {
  background: linear-gradient(135deg, #ffd700, #ff9900);
  color: black;
  box-shadow: 0 0 15px rgba(255,200,0,0.8);
}

/* ===== PANTALLA DE INICIO ===== */
#startScreen {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  background: radial-gradient(circle at center, rgba(0,0,0,0.4), rgba(0,0,0,0.85));
}

#startBtn {
  padding: 18px 40px;
  font-size: 1.2rem;
  border-radius: 40px;
  border: none;
  cursor: pointer;
  color: black;
  background: linear-gradient(135deg, #ffd700, #ff9900);
  box-shadow: 0 0 25px rgba(255,200,0,0.8);
  transition: transform 0.3s ease;
}

#startBtn:hover {
  transform: scale(1.05);
}

/* ===== INTRO NEGRA ===== */
#startScreen {
  position: fixed;
  inset: 0;
  background: black;
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* Bot√≥n */
#startBtn {
  padding: 20px 44px;
  font-size: 1.3rem;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, #ffd700, #ff9900);
  color: black;
  box-shadow: 0 0 30px rgba(255,200,0,0.9);
  transition: transform 0.3s ease;
  z-index: 2;
}

#startBtn:hover {
  transform: scale(1.08);
}

/* Estrellitas */
.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  pointer-events: none;
  animation: fadeStar 1.5s ease-out forwards;
}

@keyframes fadeStar {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}

/* Estrella fugaz del mouse */
.trail-star {
  position: absolute;
  width: 3px;
  height: 3px;
  background: white;
  border-radius: 50%;
  pointer-events: none;
  animation: trail 1s ease-out forwards;
}

.trail-star::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 2px;
  background: linear-gradient(to right, white, transparent);
  top: 50%;
  left: -20px;
  transform: translateY(-50%);
}

@keyframes trail {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}

/* ===== BOT√ìN CARTA ===== */
#loveBtn{
  position:fixed;
  bottom:30px;
  left:30px;
  padding:12px 22px;
  border-radius:30px;
  border:none;
  cursor:pointer;
  background:rgba(255,255,255,0.15);
  color:white;
  font-size:1rem;
  z-index:4;
  transition:all .3s ease;
}
#loveBtn:hover{
  background:linear-gradient(135deg,#ffb6c1,#ff69b4);
  color:black;
  box-shadow:0 0 15px rgba(255,105,180,.7);
}

/* ===== CARTA ===== */
#loveLetter{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top,#1a1a2e,#000);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:20;
}

.letter{
  max-width:600px;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  padding:40px;
  border-radius:20px;
  text-align:center;
  animation:fadeUp 1s ease;
}

.letter h1{
  margin-bottom:20px;
  color:#ffb6c1;
}

.letter p{
  line-height:1.6;
  font-size:1.05rem;
}

.letter button{
  margin-top:25px;
  padding:12px 26px;
  border-radius:30px;
  border:none;
  cursor:pointer;
  background:linear-gradient(135deg,#ffd700,#ff9900);
  color:black;
  font-size:1rem;
}

@keyframes fadeUp{
  from{opacity:0; transform:translateY(30px);}
  to{opacity:1; transform:translateY(0);}
}

/* ===== RESPONSIVE (CELULAR) ===== */
@media (max-width: 768px){

  #moon{
    width:90px;
    height:90px;
    top:20px;
    left:20px;
  }

  #carousel img{
    max-height:60vh;
    max-width:90vw;
  }

  .letter{
    max-width:90%;
    padding:24px;
  }

  .letter h1{
    font-size:1.6rem;
  }

  .letter p{
    font-size:0.95rem;
    line-height:1.5;
  }

  #musicSwitch{
    bottom:20px;
    right:20px;
    flex-direction:column;
  }

  #loveBtn{
    bottom:20px;
    left:20px;
  }

  .nav{
    font-size:2.2rem;
  }
}

/* ===== SLIDER CARTA ===== */
.letter-slider{
  position:relative;
  overflow:hidden;
  min-height:220px;
}

.slide{
  display:none;
  animation:fadeSlide .5s ease;
}

.slide.active{
  display:block;
}

.letter-nav{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
}

.letter-nav button{
  background:rgba(255,255,255,0.15);
  border:none;
  color:white;
  font-size:1.5rem;
  padding:8px 16px;
  border-radius:50%;
  cursor:pointer;
}

@keyframes fadeSlide{
  from{opacity:0; transform:translateX(20px);}
  to{opacity:1; transform:translateX(0);}
}

</style>
</head>


<body>
<div id="startScreen">
  <button id="startBtn">Comienza nuestro viaje ‚ú®</button>
</div>


<canvas id="stars"></canvas>
<div id="moon"></div>
<div id="fire"></div>


<div id="carousel">
  <span id="prev" class="nav">‚ùÆ</span>
  <span id="next" class="nav">‚ùØ</span>
  <div>
    <img id="img">
    <div id="caption"></div>
  </div>
</div>

<div id="musicSwitch">
  <button id="btnPerfect" onclick="playPerfect()">Perfect</button>
  <button id="btnColdplay" onclick="playColdplay()">Yellow</button>
</div>
<button id="loveBtn">¬øTe digo algo m√°s? üíå</button>


<audio id="perfect" src="Perfect.mp3"></audio>
<audio id="coldplay" src="Coldplay.mp3"></audio>
<div id="loveLetter">
<div class="letter">

  <h1>Feliz Aniversario, amor ‚ù§Ô∏è</h1>

  <div class="letter-slider">
    <div class="slide active">
      <p>
        Recorrer todos estos momentos contigo ha sido de las cosas m√°s bonitas
        que me ha regalado la vida üß¨ de hecho desde el primer momento en el
        que te conoc√≠ sabia que mi vida cambiaria por completo üòå y sabes? No me equivoqu√©..
        Siento que todo ha fluido contigo, nada se ha forzado,
        y eso me ha hecho y me sigue haciendo sentir muy afortunado bebe ‚ù§Ô∏è
      </p>
    </div>

    <div class="slide">
      <p>
        Me gusta saber de ti, verte, escucharte, incluso cuando est√°s lejos siento que te tengo cerquita üòâ.
        Me emociona verte aparecer, escucharte re√≠r, sentir que est√°s ah√≠.
        Adoro muchisimas cosas de ti como tu sonrisa, tus ojitos o la forma en la que me dices haber üëÄ jajajajaj,
        la forma tan linda en la que me tratas ‚ù§Ô∏è, hasta las veces que te quedas mimida jajaj ü§£
        hasta tus pellizcos lindos que ya son parte de nosotros üò≥.
      </p>
    </div>

    <div class="slide">
      <p>
        Me encanta c√≥mo eres y c√≥mo piensas en los dem√°s üòå,
        aunque a veces me enoje porque creeme que siento que quiero cuidarte
        mucho mas ‚ù§Ô∏è y los demas no ven eso.....
        Admiro profundamente todo lo que haces dia a dia,
        c√≥mo das m√°s de lo que tienes, siempre dando lo mejor de ti mi bebe hermosa üòâ
        Y sabes siento que tienes muy bonitos sue√±os y quiero que se hagan realidad ‚ù§Ô∏è
      </p>
    </div>

    <div class="slide">
      <p>
        Quiero seguir caminando conmigo, quiero seguir sumando momentos inolvidables junto a ti Jhos ‚ù§Ô∏è
        seguir conoci√©ndote cada d√≠a un poco m√°s, creeme que todo lo que he hecho ha sido porque de verdad
        te quiero mucho y siempre he de tenerte paciencia, cari√±o y amor, que son tres cositas que te voy a dar
        incondicionalmente üòâ‚ù§Ô∏è....
        Y pues si quieres a mordelonsito de regalo quien soy yo para no dartelo jajajajaj

        Nunca te olvides que eres alguien muy especial para mi üòä y que haria todo por verte sonreir ‚ù§Ô∏è
        Feliz Aniversario amor ‚ù§Ô∏è
        Te quiero much√≠simo ‚ù§Ô∏è 
        
      </p>
    </div>
  </div>

  <div class="letter-nav">
    <button id="prevLetter">‚ùÆ</button>
    <button id="nextLetter">‚ùØ</button>
  </div>

  <button id="closeLetter">Volver ‚ú®</button>
</div>

</div>

<script>
let shootingStars = [];

/* ===== ESTRELLAS CANVAS ===== */
const c=document.getElementById("stars");
const ctx=c.getContext("2d");
c.width=innerWidth; c.height=innerHeight;

const stars=[...Array(400)].map(()=>({
  x:Math.random()*c.width,
  y:Math.random()*c.height,
  r:Math.random()*1.5
}));

function drawStars(){
  ctx.clearRect(0,0,c.width,c.height);

  /* estrellas fijas */
  ctx.fillStyle="white";
  stars.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
  });

  /* estrellas fugaces */
  shootingStars.forEach((s, index) => {
    ctx.strokeStyle = "white";
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(s.x, s.y);
    ctx.lineTo(s.x - s.vx*3, s.y - s.vy*3);
    ctx.stroke();

    s.x += s.vx;
    s.y += s.vy;
    s.life--;

    if (s.life <= 0) {
      shootingStars.splice(index, 1);
    }
  });

  requestAnimationFrame(drawStars);
}
drawStars();
setInterval(spawnShootingStar, 4000 + Math.random() * 7000);

/* ===== CARRUSEL ===== */
const slides = [
  { src:"besito0.jpg", text:"Junto a una cosita bonita, y atras la iglesia :3" },
  { src:"besito1.jpg", text:"Me gust√≥ ver tu nuevo estilo ese dia" },
  { src:"besito2.jpg", text:"Los momentos simples tambi√©n son eternos." },
  { src:"besito3.jpg", text:"No fue el lugar, fue que tu estuvieras all√≠" },
  { src:"besito4.jpg", text:"A tu lado, me siento con mas calma amorcito" },
  { src:"besito5.jpg", text:"Un besito en la laguna inolvidable" },
  { src:"besito6.jpg", text:"Hay miradas que dicen m√°s que mil palabras." },
  { src:"besito7.jpg", text:"Haces especial cada lugar..." },
  { src:"besito8.jpg", text:"Y sin buscarlo, te encontr√©." },
  { src:"mensajeando.jpg", text:"Incluso en silencio, est√°s presente..." },
  { src:"salidaHermosa.jpg", text:"El tiempo se detiene cuando sonr√≠es." },
  { src:"salidaUltima.jpg", text:"Los dias simples... tambien brillan..." },
  { src:"titanic.jpg", text:"La vida es un viaje... y me gusta que sea contigo..." },
  { src:"viendome.jpg", text:"Gracias por mirarme as√≠.... Me encantas..." }
];


let i=0;
const img=document.getElementById("img");
const cap=document.getElementById("caption");

function show(){
  img.src=slides[i].src;
  cap.textContent=slides[i].text;
}
show();

next.onclick=()=>{i=(i+1)%slides.length;show()}
prev.onclick=()=>{i=(i-1+slides.length)%slides.length;show()}

/* ===== MUSICA CON MEMORIA ===== */
const perfect=document.getElementById("perfect");
const cold=document.getElementById("coldplay");
let lastTimePerfect=0, lastTimeCold=0;

const btnPerfect = document.getElementById("btnPerfect");
const btnColdplay = document.getElementById("btnColdplay");

/* Estado visual */
function setActive(btn){
  btnPerfect.classList.remove("active");
  btnColdplay.classList.remove("active");
  btn.classList.add("active");
}

/* M√∫sica */
function playPerfect(){
  lastTimeCold = cold.currentTime;
  cold.pause();

  perfect.currentTime = lastTimePerfect;
  perfect.play();

  setActive(btnPerfect);
}

function playColdplay(){
  lastTimePerfect = perfect.currentTime;
  perfect.pause();

  cold.currentTime = lastTimeCold;
  cold.play();

  setActive(btnColdplay);
}

/* SELECCI√ìN POR DEFECTO (Yellow) */
setActive(btnColdplay);


/* ===== FUEGO DESPU√âS DE 15s ===== */
const fire = document.getElementById("fire");

const fireColors = [
  "radial-gradient(circle at 50% 100%, rgba(255,60,0,.9), rgba(255,0,0,.4), transparent 70%)",
  "radial-gradient(circle at 50% 100%, rgba(255,140,0,.9), rgba(255,80,0,.4), transparent 70%)",
  "radial-gradient(circle at 50% 100%, rgba(180,0,255,.8), rgba(120,0,255,.4), transparent 70%)",
  "radial-gradient(circle at 50% 100%, rgba(0,120,255,.8), rgba(0,80,255,.4), transparent 70%)"
];

let fireIndex = 0;

setTimeout(() => {
  fire.style.opacity = 1;

  setInterval(() => {
    fire.style.background = fireColors[fireIndex];
    fireIndex = (fireIndex + 1) % fireColors.length;
  },5000);

}, 5000);


// Yellow seleccionada visualmente por defecto
setActive(btnColdplay);

// Bot√≥n de inicio

/* ===== ESTRELLAS AL MOVER EL MOUSE ===== */
const startScreen = document.getElementById("startScreen");

/* Estrella fugaz al mover mouse */
let lastStarTime = 0;

startScreen.addEventListener("mousemove", (e) => {
  const now = Date.now();
  if (now - lastStarTime < 30) return; // controla cantidad
  lastStarTime = now;

  const star = document.createElement("div");
  star.className = "trail-star";
  star.style.left = e.clientX + "px";
  star.style.top = e.clientY + "px";
  startScreen.appendChild(star);

  setTimeout(() => star.remove(), 1000);
});



function spawnShootingStar(){
  shootingStars.push({
    x: Math.random() * c.width,
    y: Math.random() * c.height * 0.5,
    vx: 12,
    vy: 6,
    life: 30
  });
}


/* Cada 8‚Äì15 segundos */



/* ===== ARRANQUE DE LA EXPERIENCIA ===== */
const startBtn = document.getElementById("startBtn");

startBtn.onclick = () => {
  playColdplay();                 // empieza Yellow
  startScreen.style.display = "none"; // se quita la pantalla negra
};

const loveBtn = document.getElementById("loveBtn");
const loveLetter = document.getElementById("loveLetter");
const closeLetter = document.getElementById("closeLetter");

loveBtn.onclick = () => {
  loveLetter.style.display = "flex";
};

closeLetter.onclick = () => {
  loveLetter.style.display = "none";
};

let startX = 0;

carousel.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

carousel.addEventListener("touchend", e => {
  const endX = e.changedTouches[0].clientX;
  const diff = startX - endX;

  if (diff > 50) next.onclick();
  if (diff < -50) prev.onclick();
});

const slidesLetter = document.querySelectorAll(".slide");
let letterIndex = 0;

function showLetterSlide(){
  slidesLetter.forEach(s => s.classList.remove("active"));
  slidesLetter[letterIndex].classList.add("active");
}

document.getElementById("nextLetter").onclick = () => {
  letterIndex = (letterIndex + 1) % slidesLetter.length;
  showLetterSlide();
};

document.getElementById("prevLetter").onclick = () => {
  letterIndex = (letterIndex - 1 + slidesLetter.length) % slidesLetter.length;
  showLetterSlide();
};

/* Swipe en celular */
//let startX = 0;
const slider = document.querySelector(".letter-slider");

slider.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

slider.addEventListener("touchend", e => {
  const diff = startX - e.changedTouches[0].clientX;
  if (diff > 50) document.getElementById("nextLetter").click();
  if (diff < -50) document.getElementById("prevLetter").click();
});

</script>

</body>
</html>




